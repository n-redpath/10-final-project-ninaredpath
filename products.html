<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Products</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
    <script src="https://kit.fontawesome.com/0d30c02dfc.js" crossorigin="anonymous"></script>


</head>
<body>
    <div class="header">
        <!-- logo = home-->
        <a href="index.html"><img src="photos/cow2.png" alt="logo"></a>

        <br><br>

        <!-- About us = further down on Home-->
        <a href="index.html">About Us</a>

        <!-- Programs and Events -->
        <a href="programs.html">Programs and Events</a>


        <!-- Products -->
        <a href="products.html">Shop</a>
    </div>
    <br>
    <br>
    <br><br><br><br>
    <!-- images gallery of products -->
    <div>
        <!-- maple syrup, beef, honey -->
        <div class="row">
            <div class="col odd" id= "overlay1"> 
                <div class = "overlay odd">
                    Wild Harvest Maple Syrup
                    <br>
                     <i class="fab fa-canadian-maple-leaf fa-2x"></i></div>
                <img class="product-image odd" src="photos/syrup.jpg" alt="syrup">
            </div>
            <div class="col even">
                <div class = "overlay odd" id="overlay2">Organic Pears <br>
                    <i class="fas fa-leaf fa-2x"></i></div>
                <img class="product-image" src="photos/pear.jpg" alt="syrup">
            </div>
            <div class="col odd">
                <div class = "overlay odd" id="overlay3">Raw Honey <br>
                    <i class="fab fa-hive fa-2x"></i></div>
                <img class ="product-image" src="photos/honey.png" alt="">
            </div>
        </div> 

        <!-- apples, pears, peaches -->
        <div class="row">
            <div class="col even">
                <div class = "overlay odd" id="overlay4">Organic Apples <br>
                    <i class="fas fa-apple-alt fa-2x"></i></div>
                <img class= "product-image" src="photos/apples.png" alt="apples">
            </div>
            <div class="col odd"> 
                <div class = "overlay odd" id="overlay5">Grass Fed Beef
                    <br> <i class="fas fa-hamburger fa-2x"></i>
                </div>
                <img class="product-image" src="photos/beef.jpg" alt=""></div>
            <div class="col even">
                <div class = "overlay odd" id="overlay6">Organic Peaches <br>
                    <i class="fab fa-pagelines fa-2x"></i></div>
                <img class = "product-image" src="photos/peaches.jpg" alt="peaches"></div>
        </div>
    </div>

    <!-- about the products -->
    <div class="about-us">
        <h4>Our Products</h4>

        <p>We aim for the purest quality in our products, our attitude, 
            and your experience. All of our natural, ethical and organic 
            products meet the highest standards of excellence and sustainability. </p>

      <p>Our syrup has found its way to 20 U.S. states, as well as the capital. It has also been 
          sent as far as Japan, Hong Kong, Belgium, the Netherlands, Switzerland, the United Kingdom, 
          Saudi Arabia, and Republic of Georgia.
        </p>

        <p>Where will you send yours?</p>
        <br>
        <i class="fas fa-flask fa-3x"></i>

    </div>
<!-- INERACTIVE API FEATURE -->

<!-- the following text is my own words -->
    <div class="about-us">
        <h4>Find a recipe!</h4>
        <p>Can't decide what to make with one of our products? Use our recipe finder below!</p>
        <br>
        <p>Pick a product:</p>

        <!-- the following is from bootstrap -->
        <div class="btn-group">
            <button class="btn btn-secondary btn-lg dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" id="drop">
              Products
            </button>
            <div class="dropdown-menu">
                <a class="dropdown-item" id = "syrup">Maple Syrup</a>
                <a class="dropdown-item" id = "beef">Grass Fed Beef</a>
                <a class="dropdown-item" id = "honey">Raw Honey</a>
                <a class="dropdown-item" id="apples">Apples</a>
                <a class="dropdown-item" id="pears">Pears</a>
                <a class="dropdown-item" id="peaches">Peaches</a>
            </div>
          </div>



          <br><br>
          <h4 id = "product-update">Product Chosen: </h4>
          <br>
    </div>

<!-- Div to update with API results -->
    <div id="recipe">
        <h5 id="title"></h5>
        <img src="photos/cow2.png" alt="picture" id="recipePic">
        <ul id="ingredients">

        </ul>

        <a href="" id="link">Learn More</a>


        <br><br><br><br><br><br>
        <hr>

        <!-- Footer -->
    <div class="row">
        <div class="col">
            <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2891.5684042848047!2d-73.07231419799737!3d43.55303785238053!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x89e03d71e799391b%3A0x38b25cfa6f9ad840!2sNEW%20DAY%20FARM!5e0!3m2!1sen!2sus!4v1609211323529!5m2!1sen!2sus" width="600" height="450" style="border:0;" allowfullscreen="" aria-hidden="false" tabindex="0"></iframe>
        </div>
    <div class="col-sm footer">
        <h3>follow us social media!</h3>
        <a href=""><i class="fab fa-instagram fa-3x" aria-hidden="true"></i></a>
        <a href=""><i class="fab fa-twitter fa-3x" aria-hidden="true"></i></a>
        <a href=""><i class="fab fa-facebook-square fa-3x" aria-hidden="true"></i></a>
        <a href=""><i class="fab fa-youtube fa-3x" aria-hidden="true"></i></a>

        <h5>Contact us with any questions:</h5>
          <label for="email">Email</label>
         <input type="text" id="email" name="email"><br>
         <label for="subject">Subject</label>
         <input type="text" name="subject" id="subject"><br>
         <label for="message">Message</label>
         <input type="text" name="message" id="message"> <br>
         <input type="submit" name="submit" id="submit">

      </div>
    </div>
    <br><br><br><br>

    </div>




 
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

<script>   
document.getElementById("syrup").addEventListener("click", function () {changeProduct("syrup")}, false) 
document.getElementById("beef").addEventListener("click", function () {changeProduct("beef")}, false) 
document.getElementById("honey").addEventListener("click", function () {changeProduct("honey")}, false) 
document.getElementById("apples").addEventListener("click", function () {changeProduct("apples")}, false) 
document.getElementById("pears").addEventListener("click", function () {changeProduct("pears")}, false) 
document.getElementById("peaches").addEventListener("click", function () {changeProduct("peaches")}, false) 


document.getElementById("overlay1").addEventListener("mouseover", fade, false); 

function fade(){
    document.getElementById("overlay").style.display = "inline"
}


function changeProduct(product){
    document.getElementById("product-update").innerHTML = "Product Chosen: " + product
    getRecipe(product)
}

function getRecipe(product){
    console.log("getting here")
    var recipes = []
    var request = new XMLHttpRequest();
    // change to on ready state ? 

    request.onreadystatechange = function () {
        console.log(this.readyState)
        if (this.readyState == 4 & this.status == 200){
            recipes = JSON.parse(this.responseText);
            console.log(recipes)
            console.log("number of results: "+ recipes.hits.length)
            // get a random number
            var randomNum = parseInt(Math.random()*recipes.hits.length)
            console.log(randomNum)
            document.getElementById("title").innerHTML = recipes.hits[randomNum].recipe.label

            document.getElementById("recipePic").src = recipes.hits[randomNum].recipe.image
            document.getElementById("recipePic").style.display = "block"


            for (var i=0; i<recipes.hits[randomNum].recipe.ingredientLines.length; i++){
                var ing = document.createElement("li")
                ing.innerHTML = recipes.hits[randomNum].recipe.ingredientLines[i]
                document.getElementById("ingredients").appendChild(ing)
                document.getElementById("link").href = recipes.hits[randomNum].recipe.shareAs
                document.getElementById("link").style.display = "inline"
            }
            
        }
        else {
            console.log("not found");
        }
        
    }

    var applicationID = "8fb9ce35";
    var applicationKey = "733ad07ac699fca7d58c7abcc02bfb0b";
    curl = "https://api.edamam.com/search?q=" + product + "&app_id=" + applicationID + "&app_key=" + applicationKey
    request.open("GET", curl, true);
    request.send();

}


</script>

</body>
</html>